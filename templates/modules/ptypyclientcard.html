<div id="{{ object.id }}" class="card col-md-6">
    <img src="{{ static_url('img/logo_100px.png') }}" alt="Graph"
         class="property-image card-img-top img-fluid"
    />

    {% if object.text %}
    <div class="card-body">
        <div class="card-text">
            {{ object.text }}
        </div>
    </div>
    {% end %}

    <div class="card-footer text-muted">
        Connected? <span class="property-connected"></span>
        <br>
        Status: <span class="property-status"></span>
    </div>

    <script type="application/javascript">
        var element = document.getElementById("{{ object.id }}");
        element.addEventListener("update", function(e) {
            if (e.data != null) {
                this.querySelector(".property-connected").textContent = e.data["connected"] ? "Yes" : "No";
                this.querySelector(".property-status").textContent = e.data["status"];

                if (e.data["image"] !== null) {
                    this.querySelector(".property-image").src = "data:image/png;base64," + e.data["image"];
                }
            }
        });
    </script>
</div>
